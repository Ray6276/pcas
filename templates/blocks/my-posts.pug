extends ../layout

append scripts
    script(src='/scripts/my-posts.js')

block content
    h3 My Posts
    .card
        .card-body.bg-light
            .d-flex.justify-content-between
                .w-65
                    strong Title
                .w-25
                    strong Posted On
                .w-15

            each val, index in posts
                .d-flex.justify-content-between.align-items-center.mb-2
                    .w-65
                        a(href='/posting-details/?post_id=' + posts[index].post_id + '&role=' + user.role) [##{posts[index].post_id}] #{posts[index].title}
                    .w-25
                        | #{posts[index].date_created.toDateString()}
                    .w-15.d-flex.justify-content-end
                        if posts[index].status === false
                            form.activate(action='/activate-post', method='POST')
                                input(type='hidden', name='post_id', value=posts[index].post_id)
                                input.btn.btn-sm.btn-primary.mr-1(type='submit', value='Show')
                        else
                            form.deactivate(action='/deactivate-post', method='POST')
                                input(type='hidden', name='post_id', value=posts[index].post_id)
                                input.btn.btn-sm.btn-danger.mr-1(type='submit', value='Hide')
                        button.btn.btn-sm.btn-info.mr-1(type='button', onclick='location.href="/edit-post?post_id=' + posts[index].post_id + '"') Edit
                        form.delete-post(action='/delete-post', method='POST')
                            input(type='hidden', name='post_id', value=posts[index].post_id)
                            input.btn.btn-sm.btn-danger(type='submit', value='Delete')
            //--form.my-post(action='/delete-post', method='post')
                .d-flex.justify-content-between.align-items-center.mb-2
                    .w-65
                        a(href='/posting') [#10304] Need Interpreter at SFU
                    .w-25.text-right
                        strong Posted on January 29, 2017
                    .w-15.text-right
                        button.btn.btn-sm.btn-info.mr-1(type='button') Edit
                        button.btn.btn-sm.btn-danger(type='submit') Delete